{% extends 'base.html' %}
{% block content %}
    <div class="bg-white p-5 shadow-sm rounded-4">
        <h1 class="fw-bold">{{ post['title'] }}</h1>
        <p class="text-muted small">发布于 {{ post['created_at'] }}</p>
        <hr class="my-4">
        <div style="white-space: pre-wrap; line-height: 1.8;">{{ post['content'] }}</div>
        <hr class="my-5">
        <div class="d-flex justify-content-between">
            <a href="{{ url_for('index') }}" class="btn btn-light border">返回列表</a>
            <form id="delete-form" action="{{ url_for('delete', post_id=post['id']) }}" method="POST">
    <input type="hidden" name="password" id="confirm-password">
    <button type="button" class="btn btn-outline-danger btn-sm" onclick="confirmDelete()">删除文章</button>
</form>

<script>
function confirmDelete() {
    let pwd = prompt("请输入管理密码以确认删除：");
    if (pwd) {
        document.getElementById('confirm-password').value = pwd;
        document.getElementById('delete-form').submit();
    }
}
</script>
        </div>
    </div>
{% endblock %}